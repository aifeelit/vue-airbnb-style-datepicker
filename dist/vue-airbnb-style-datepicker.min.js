!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.vueAirbnbStyleDatepicker={})}(this,function(t){"use strict";var e=function(t){return t instanceof Date},n=36e5,r=6e4,i=2,s=/[T ]/,a=/:/,o=/^(\d{2})$/,u=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],c=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,d=/^-?(\d{3})$/,f=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,D=/^-?W(\d{2})-?(\d{1})$/,m=/^(\d{2}([.,]\d*)?)$/,p=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,v=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/([Z+-].*)$/,M=/^(Z)$/,w=/^([+-])(\d{2})$/,S=/^([+-])(\d{2}):?(\d{2})$/;function b(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var T=function(t,T){if(e(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var k=(T||{}).additionalDigits;k=null==k?i:Number(k);var x=function(t){var e,n={},r=t.split(s);if(a.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var i=y.exec(e);i?(n.time=e.replace(i[1],""),n.timezone=i[1]):n.time=e}return n}(t),Y=function(t,e){var n,r=u[e],i=l[e];if(n=c.exec(t)||i.exec(t)){var s=n[1];return{year:parseInt(s,10),restDateString:t.slice(s.length)}}if(n=o.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(x.date,k),F=Y.year,I=function(t,e){if(null===e)return null;var n,r,i,s;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=h.exec(t))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(e,i),r;if(n=d.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=f.exec(t)){r=new Date(0),i=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return r.setUTCFullYear(e,i,o),r}if(n=g.exec(t))return s=parseInt(n[1],10)-1,b(e,s);if(n=D.exec(t)){s=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return b(e,s,u)}return null}(Y.restDateString,F);if(I){var _,C=I.getTime(),W=0;return x.time&&(W=function(t){var e,i,s;if(e=m.exec(t))return(i=parseFloat(e[1].replace(",",".")))%24*n;if(e=p.exec(t))return i=parseInt(e[1],10),s=parseFloat(e[2].replace(",",".")),i%24*n+s*r;if(e=v.exec(t)){i=parseInt(e[1],10),s=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return i%24*n+s*r+1e3*a}return null}(x.time)),x.timezone?(H=x.timezone,_=(E=M.exec(H))?0:(E=w.exec(H))?($=60*parseInt(E[2],10),"+"===E[1]?-$:$):(E=S.exec(H))?($=60*parseInt(E[2],10)+parseInt(E[3],10),"+"===E[1]?-$:$):0):(_=new Date(C+W).getTimezoneOffset(),_=new Date(C+W+_*r).getTimezoneOffset()),new Date(C+W+_*r)}var H,E,$;return new Date(t)};var k=function(t){var e=T(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n};var x=function(t){var e=T(t);return e.setHours(0,0,0,0),e},Y=6e4,F=864e5;var I=function(t,e){var n=x(t),r=x(e),i=n.getTime()-n.getTimezoneOffset()*Y,s=r.getTime()-r.getTimezoneOffset()*Y;return Math.round((i-s)/F)};var _=function(t){var e=T(t);return I(e,k(e))+1};var C=function(t,e){var n=e&&Number(e.weekStartsOn)||0,r=T(t),i=r.getDay(),s=(i<n?7:0)+i-n;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r};var W=function(t){return C(t,{weekStartsOn:1})};var H=function(t){var e=T(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=W(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var a=W(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1};var E=function(t){var e=H(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),W(n)},$=6048e5;var O=function(t){var e=T(t),n=W(e).getTime()-E(e).getTime();return Math.round(n/$)+1};var R=function(t){if(e(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")};var B=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];var N=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=B.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")};var z=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],a=["am","pm"],o=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return r[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?s[1]:s[0]},a:function(t){return t.getHours()/12>=1?a[1]:a[0]},aa:function(t){return t.getHours()/12>=1?o[1]:o[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){u[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:u,formattingTokensRegExp:N(u)}},A={distanceInWords:function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var i;return r=r||{},i="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+i:i+" ago":i}}}(),format:z()};var G={M:function(t){return t.getMonth()+1},MM:function(t){return X(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return X(t.getDate(),2)},DDD:function(t){return _(t)},DDDD:function(t){return X(_(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return O(t)},WW:function(t){return X(O(t),2)},YY:function(t){return X(t.getFullYear(),4).substr(2)},YYYY:function(t){return X(t.getFullYear(),4)},GG:function(t){return String(H(t)).substr(2)},GGGG:function(t){return H(t)},H:function(t){return t.getHours()},HH:function(t){return X(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return X(G.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return X(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return X(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return X(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return X(t.getMilliseconds(),3)},Z:function(t){return P(t.getTimezoneOffset(),":")},ZZ:function(t){return P(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function P(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),i=r%60;return n+X(Math.floor(r/60),2)+e+X(i,2)}function X(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}var Z=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,s=A.format.formatters,a=A.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(s=i.format.formatters,i.format.formattingTokensRegExp&&(a=i.format.formattingTokensRegExp));var o=T(t);return R(o)?function(t,e,n){var r,i,s,a=t.match(n),o=a.length;for(r=0;r<o;r++)i=e[a[r]]||G[a[r]],a[r]=i||((s=a[r]).match(/\[[\s\S]/)?s.replace(/^\[|]$/g,""):s.replace(/\\/g,""));return function(t){for(var e="",n=0;n<o;n++)a[n]instanceof Function?e+=a[n](t,G):e+=a[n];return e}}(r,s,a)(o):"Invalid Date"};var U=function(t){var e=T(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()};var L=function(t,e){var n=T(t),r=Number(e),i=n.getMonth()+r,s=new Date(0);s.setFullYear(n.getFullYear(),i,1),s.setHours(0,0,0,0);var a=U(s);return n.setMonth(i,Math.min(a,n.getDate())),n};var J=function(t,e){var n=Number(e);return L(t,-n)};var j=function(t,e){var n=T(t),r=T(e);return n.getTime()<r.getTime()};var Q=function(t,e){var n=T(t),r=T(e);return n.getTime()>r.getTime()},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.showDatepicker?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDatepicker,expression:"closeDatepicker"}],staticClass:"datepicker-wrapper",class:t.wrapperClasses,style:t.showFullscreen?void 0:t.wrapperStyles,attrs:{id:"datepicker-wrapper"}},[t.showFullscreen?n("div",{staticClass:"mobile-header mobile-only"},[n("div",{staticClass:"mobile-close",on:{click:t.closeDatepicker}},[n("div",{staticClass:"icon"},[t._v("X")])]),t._v(" "),n("h3",[t._v("Select date(s)")])]):t._e(),t._v(" "),n("div",{staticClass:"datepicker-header"},[n("div",{staticClass:"change-month-button previous"},[n("button",{on:{click:t.previousMonth}},[n("svg",{attrs:{viewBox:"0 0 1000 1000"}},[n("path",{attrs:{d:"M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"}})])])]),t._v(" "),n("div",{staticClass:"change-month-button next"},[n("button",{on:{click:t.nextMonth}},[n("svg",{attrs:{viewBox:"0 0 1000 1000"}},[n("path",{attrs:{d:"M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"}})])])]),t._v(" "),t._l(t.showMonths,function(e,r){return n("div",{key:e,staticClass:"days-legend",style:[t.monthWidthStyles,{left:t.width*r+"px"}]},t._l(t.daysShort,function(e){return n("div",{key:e,staticClass:"day-title"},[t._v(t._s(e))])}))})],2),t._v(" "),n("div",{staticClass:"datepicker-inner-wrapper",style:t.innerStyles},[n("transition-group",{attrs:{name:"list-complete",tag:"div"}},t._l(t.months,function(e){return n("div",{key:e.firstDateOfMonth,staticClass:"month",style:t.monthWidthStyles},[n("div",{staticClass:"month-name"},[t._v(t._s(e.monthName)+" "+t._s(e.year))]),t._v(" "),n("table",{staticClass:"month-table",attrs:{role:"presentation"}},[n("tbody",t._l(e.weeks,function(e,r){return n("tr",{key:r,staticClass:"week"},t._l(e,function(e,r){var i=e.fullDate,s=e.dayNumber;return n("td",{key:r+"_"+s,staticClass:"day",class:{enabled:0!==s,empty:0===s,disabled:t.isBeforeMinDate(i)||t.isAfterEndDate(i),selected:t.selectedDate1===i||t.selectedDate2===i,"in-range":t.isInRange(i)},style:{background:t.isSelected(i)?t.colors.selected:t.isInRange(i)?t.colors.inRange:"white",color:t.isSelected(i)?t.colors.selectedText:t.isInRange(i)?t.colors.selectedText:t.colors.text,border:t.isSelected(i)?"1px double "+t.colors.selected:t.isInRange(i)&&t.allDatesSelected?"1px double "+t.colors.inRangeBorder:""},on:{mouseover:function(){t.setHoverDate(i)}}},[s?n("button",{staticClass:"day-button",attrs:{date:i},on:{click:function(){t.selectDate(i)}}},[t._v(t._s(s))]):t._e()])}))}))])])}))],1),t._v(" "),"single"!==t.mode?n("div",{staticClass:"action-buttons"},[n("button",{on:{click:t.closeDatepicker}},[t._v("Cancel")]),t._v(" "),n("button",{style:{color:t.colors.selected},on:{click:t.closeDatepicker}},[t._v("Apply")])]):t._e()]):t._e()])},staticRenderFns:[],_scopeId:"data-v-d7c1db7e",name:"airbnb-style-datepicker",created:function(){var t,e,n,r,i=this;this.sundayFirst&&this.setSundayToFirstDayInWeek(),window.addEventListener("resize",(t=this.positionDatepicker,e=200,function(){var i=this,s=arguments,a=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,s)},e),a&&t.apply(i,s)})),window.addEventListener("click",function(t){t.target.id===i.triggerElementId&&(console.log("click",t.target.id),t.stopPropagation(),t.preventDefault(),i.toggleDatepicker())})},mounted:function(){this.setStartDates();for(var t=0;t<this.showMonths+2;t++)this.months.push(this.getMonth(this.startingDate)),this.startingDate=this.addMonths(this.startingDate);(this.startOpen||this.inline)&&this.openDatepicker()},beforeDestroy:function(){window.removeEventListener("resize",this.positionDatepicker)},props:{triggerElementId:{type:String},dateOne:{type:[String,Date],default:Z(new Date)},dateTwo:{type:[String,Date]},minDate:{type:[String,Date]},endDate:{type:[String,Date]},mode:{type:String,default:"range"},dateFormat:{type:String,default:"YYYY-MM-DD"},sundayFirst:{type:Boolean},offset:{type:Number,default:0},monthsToShow:{type:Number,default:2},startOpen:{type:Boolean},fullscreenMobile:{type:Boolean},inline:{type:Boolean},colors:{type:Object,default:function(){return{selected:"#00a699",inRange:"#66e2da",selectedText:"#fff",text:"#565a5c",inRangeBorder:"#00a699"}}}},data:function(){return{showDatepicker:!1,showMonths:2,days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Mon","Tue","Wed","Thur","Fri","Sat","Sun"],startingDate:"",months:[],width:300,selectedDate1:"",selectedDate2:"",isSelectingDate1:!0,hoverDate:"",alignRight:!1,triggerPosition:{}}},computed:{wrapperClasses:function(){return{"full-screen":this.showFullscreen,inline:this.inline}},wrapperStyles:function(){return{position:this.inline?"relative":"fixed",top:this.inline?"0":this.triggerPosition.bottom+this.offset+"px",left:this.alignRight?"auto":this.triggerPosition.left,right:this.alignRight?this.triggerPosition.right:"auto",width:this.width*this.showMonths+"px",zIndex:this.inline?"0":"100",paddingBottom:this.inline?"0":"30px"}},innerStyles:function(){return{"margin-left":this.showFullscreen?"-"+this.$viewportWidth:"-"+this.width+"px"}},monthWidthStyles:function(){return{width:this.showFullscreen?this.$viewportWidth:this.width+"px"}},showFullscreen:function(){return this.$isMobile&&this.fullscreenMobile},datesSelected:function(){return!!(this.selectedDate1&&""!==this.selectedDate1||this.selectedDate2&&""!==this.selectedDate2)},allDatesSelected:function(){return!(!this.selectedDate1||""===this.selectedDate1||!this.selectedDate2||""===this.selectedDate2)},hasMinDate:function(){return!(!this.minDate||""===this.minDate)},isRangeMode:function(){return"range"===this.mode},isSingleMode:function(){return"single"===this.mode}},methods:{setStartDates:function(){var t=this.dateOne||new Date;this.hasMinDate&&j(t,this.minDate)&&(t=this.minDate),this.startingDate=this.subtractMonths(t),this.selectedDate1=this.dateOne,this.selectedDate2=this.dateTwo},setSundayToFirstDayInWeek:function(){var t=this.days.pop();this.days.unshift(t);var e=this.daysShort.pop();this.daysShort.unshift(e)},getMonth:function(t){var e=Z(t,"YYYY-MM-01");return{year:Z(t,"YYYY"),firstDateOfMonth:e,monthName:Z(t,"MMMM"),monthNumber:parseInt(Z(t,"M")),weeks:this.getWeeks(e)}},getWeeks:function(t){for(var e={dayNumber:0},n=U(t),r=Z(t,"YYYY"),i=Z(t,"MM"),s=Z(t,"dddd"),a=this.days.findIndex(function(t){return t===s}),o=[],u=[],c=0;c<a;c++)u.push(e);for(var l=0;l<n;l++){var h=l>=n-1,d=l+1,f=d<10?"0"+d:d;if(u.push({dayNumber:d,dayNumberFull:f,fullDate:r+"-"+i+"-"+f}),7===u.length)o.push(u),u=[];else if(h){for(var g=0;g<7-u.length;g++)u.push(e);o.push(u),u=[]}}return o},selectDate:function(t){if(!this.isBeforeMinDate(t)&&!this.isAfterEndDate(t))return"single"===this.mode?(this.selectedDate1=t,void this.closeDatepicker()):void(this.isSelectingDate1||j(t,this.selectedDate1)?(this.selectedDate1=t,this.isSelectingDate1=!1,j(this.selectedDate2,t)&&(this.selectedDate2="")):(this.selectedDate2=t,this.isSelectingDate1=!0,Q(this.selectedDate1,t)&&(this.selectedDate1="")))},setHoverDate:function(t){this.hoverDate=t},isSelected:function(t){if(t)return this.selectedDate1===t||this.selectedDate2===t},isInRange:function(t){return!(!this.allDatesSelected||this.isSingleMode)&&(Q(t,this.selectedDate1)&&j(t,this.selectedDate2)||Q(t,this.selectedDate1)&&j(t,this.hoverDate)&&!this.allDatesSelected)},isBeforeMinDate:function(t){return!!this.minDate&&j(t,this.minDate)},isAfterEndDate:function(t){return!!this.endDate&&Q(t,this.endDate)},previousMonth:function(){this.startingDate=this.subtractMonths(this.months[0].firstDateOfMonth),this.months.unshift(this.getMonth(this.startingDate)),this.months.splice(this.months.length-1,1)},nextMonth:function(){var t=this;this.startingDate=this.addMonths(this.months[this.months.length-1].firstDateOfMonth),this.months.push(this.getMonth(this.startingDate)),setTimeout(function(){t.months.splice(0,1)},100)},subtractMonths:function(t){return Z(J(t,1),this.dateFormat)},addMonths:function(t){return Z(L(t,1),this.dateFormat)},toggleDatepicker:function(){this.showDatepicker?this.closeDatepicker():this.openDatepicker()},openDatepicker:function(){this.getStartingPosition(),this.setStartDates(),this.showDatepicker=!0},closeDatepicker:function(){this.inline||(this.showDatepicker=!1)},getStartingPosition:function(){var t=this,e=document.getElementById(this.triggerElementId);this.triggerPosition=e.getBoundingClientRect(),setTimeout(function(){t.positionDatepicker()},0)},positionDatepicker:function(){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),e=t<768,n=t>=768&&t<=1024;this.showMonths=e?1:n&&this.monthsToShow>2?2:this.monthsToShow,this.$nextTick(function(){var e=document.getElementById(this.triggerElementId),n=document.getElementById("datepicker-wrapper");if(e&&n){var r=e.getBoundingClientRect().left+n.getBoundingClientRect().width;this.alignRight=r>t}})}},watch:{selectedDate1:function(t,e){var n=t&&""!==t?Z(t,this.dateFormat):"";this.$emit("dateOneSelected",n)},selectedDate2:function(t,e){var n=t&&""!==t?Z(t,this.dateFormat):"";this.$emit("dateTwoSelected",n)},mode:function(t,e){this.setStartDates()}}},q={bind:function(t,e,n){t.event=function(r){t===r.target||t.contains(r.target)||n.context[e.expression](r)},document.body.addEventListener("click",t.event)},unbind:function(t){document.body.removeEventListener("click",t.event)}},K={install:function(t){t.prototype.$viewportWidth=window.innerWidth+"px",t.prototype.$isMobile=window.innerWidth<768,t.directive("click-outside",q),t.component(V.name,V)}};"undefined"!=typeof window&&window.Vue&&(window.Vue.use(K),window.AirbnbStyleDatepicker=K),t.default=K,t.AirbnbStyleDatepicker=V,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=vue-airbnb-style-datepicker.min.js.map
